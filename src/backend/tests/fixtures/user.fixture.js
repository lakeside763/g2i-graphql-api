const _ = require('lodash');
const faker = require('faker');

const getRecord = (overides = {}, qty = 1, includeAutoGeneratedFields = false) => {
  const records = _.times(qty, () => {
    const {
      email = faker.internet.email(),
      password = faker.internet.password(),
      created_at = new Date(),
      updated_at = new Date(),

    } = overides;

    const fields = {
      email,
      password,
    };

    const generated = {
      created_at,
      updated_at,
    };

    if (includeAutoGeneratedFields) {
      return _.pickBy({ ...fields, ...generated }, _.identity);
    }

    return _.pickBy({ ...fields }, _.identity);
  });

  if (qty === 1) {
    return records[0];
  }
  return records;
};
module.exports = {
  getRecord,
};
